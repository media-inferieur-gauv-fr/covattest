!function(){function t(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(c){r=!0,o=c}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{ldUD:function(e,i,o){"use strict";o.r(i),o.d(i,"WelcomeModule",function(){return D});var a,s=o("ofXK"),c=o("TEn/"),b=o("tyNb"),u=o("mrSG"),l=o("kiQV"),h=o("fXoL"),d=o("2hsb"),f=o("ogpO"),p=o("OvJz"),g=o("Gm54"),m=o("IkSl"),v=o("gZKt"),k=((a=function(){function t(e,i,r,o){n(this,t),this.loadingController=e,this.pdfviewer=i,this.modalCtrl=r,this.loadingservice=o}return r(t,[{key:"ngOnInit",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}))}},{key:"pageRendered",value:function(t){this.loadingservice.hide()}},{key:"closeModal",value:function(){this.modalCtrl.dismiss({dismissed:!0})}}]),t}()).\u0275fac=function(t){return new(t||a)(h.Hb(c.y),h.Hb(m.b),h.Hb(c.z),h.Hb(v.a))},a.\u0275cmp=h.Bb({type:a,selectors:[["pdfviewer"]],inputs:{pdfUrl:"pdfUrl"},decls:4,vars:5,consts:[[1,"ion-page"],["color","black",3,"click"],["size","large","name","close-circle-outline"],[3,"src","render-text","show-all","original-size","autoresize","page-rendered"]],template:function(t,e){1&t&&(h.Mb(0,"div",0),h.Mb(1,"ion-buttons",1),h.Tb("click",function(){return e.closeModal()}),h.Ib(2,"ion-icon",2),h.Lb(),h.Mb(3,"pdf-viewer",3),h.Tb("page-rendered",function(t){return e.pageRendered(t)}),h.Lb(),h.Lb()),2&t&&(h.xb(3),h.Yb("src",e.pdfUrl)("render-text",!1)("show-all",!0)("original-size",!1)("autoresize",!0))},directives:[c.c,c.i,m.a],styles:[".ion-page[_ngcontent-%COMP%]{background-color:#fff}.ion-page[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{font-size:large;position:absolute;color:transparent}.ion-page[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:grey}.ion-page[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{display:block;height:100vh}"]}),a);o("gcOT");var y,M,w,_,P,x=((M=function(){function e(t,i,r,o,a){n(this,e),this._varGlobal=t,this.modalCtrl=i,this._datepipe=r,this._timeBackPipe=o,this.loading=a,this.toDay=new Date}return r(e,[{key:"modifyPdf",value:function(e,n){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var r,a,s,c,b,u,l,h,d,f,p,g,m,v,y,M,w,_,P,x,L;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,o.e(13).then(o.bind(null,"4Zil")).then(function(t){return{PDFDocument:t.PDFDocument,StandardFonts:t.StandardFonts}});case 2:return r=i.sent,i.next=5,fetch("./assets/certificate.33362af4.pdf").then(function(t){return t.arrayBuffer()});case 5:return a=i.sent,s=e,i.next=9,r.PDFDocument.load(a);case 9:return c=i.sent,i.next=12,c.embedPdf(s);case 12:return b=i.sent,u=t(b,1),l=u[0],i.next=17,c.embedFont(r.StandardFonts.Helvetica);case 17:h=i.sent,d=c.getPage(0),f=l.scale(.3),d.drawPage(l,Object.assign(Object.assign({},f),{x:d.getWidth()-f.width+60,y:d.getHeight()-f.height-90})),p=l.scale(1.1),(g=c.addPage()).drawPage(l,Object.assign(Object.assign({},p),{x:g.getWidth()-p.width+80,y:g.getHeight()-p.height-50})),(m=c.getPages()[0]).getSize(),v=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:11;m.drawText(t,{x:e,y:n,size:i,font:h})},c.setTitle("COVID-19 - D\xe9claration de d\xe9placement"),y=this._varGlobal.setting.firstname+" "+this._varGlobal.setting.lastname,M=this._varGlobal.setting.adress+" "+this._varGlobal.setting.zipcode+" "+this._varGlobal.setting.city,w=this._datepipe.transform(this._varGlobal.setting.dateofbirth,"dd/MM/yyyy").toString(),i.t0=(v(y,148,704),v(w,148,684),v(this._varGlobal.setting.cityofbird,311,684),v(M,152,667),n),i.next=1===i.t0?29:2===i.t0?31:3===i.t0?33:4===i.t0?35:5===i.t0?37:6===i.t0?39:7===i.t0?41:8===i.t0?43:9===i.t0?45:10===i.t0?47:11===i.t0?49:12===i.t0?51:52;break;case 29:return v("x",73,580,12),i.abrupt("break",52);case 31:return v("x",73,546,12),i.abrupt("break",52);case 33:return v("x",73,512,12),i.abrupt("break",52);case 35:return v("x",73,479,12),i.abrupt("break",52);case 37:return v("x",73,458,12),i.abrupt("break",52);case 39:return v("x",73,437,12),i.abrupt("break",52);case 41:return v("x",73,403,12),i.abrupt("break",52);case 43:return v("x",73,370,12),i.abrupt("break",52);case 45:return v("x",73,305,12),i.abrupt("break",52);case 47:return v("x",73,260,12),i.abrupt("break",52);case 49:return v("x",73,190,12),i.abrupt("break",52);case 51:v("x",73,145,12);case 52:return v(this._varGlobal.setting.city,106,113),v(this._datepipe.transform(this.toDay,"dd/MM/yyyy"),92,94),v(this._timeBackPipe.transform(this._varGlobal.setting.timeback,2),311,94),i.next=55,c.save();case 55:return _=i.sent,P=new Blob([_],{type:"application/pdf"}),x=window.URL.createObjectURL(P),i.next=60,this.modalCtrl.create({component:k,cssClass:"my-custom-class",keyboardClose:!0,componentProps:{pdfUrl:x}});case 60:return L=i.sent,i.next=63,L.present();case 63:return i.abrupt("return",i.sent);case 64:case"end":return i.stop()}},i,this)}))}}]),e}()).\u0275fac=function(t){return new(t||M)(h.Pb(f.a),h.Pb(c.z),h.Pb(s.d),h.Pb(p.a),h.Pb(v.a))},M.\u0275prov=h.Db({token:M,factory:M.\u0275fac,providedIn:"root"}),M),L=((y=function(){function t(e,i,r,o,a,s,c){n(this,t),this._varGlobal=e,this._datepipe=i,this._timeBackPipe=r,this._activityPipe=o,this._pdflib=a,this.loadingController=s,this.loading=c,this.pdfMake=null,this.dateofbirth=null,this.toDay=new Date,this.timebackColon=null,this.timebackH=null,this.timebackT=null,this.qrCodeData=null}return r(t,[{key:"generatePdf",value:function(t){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.timebackH=this._timeBackPipe.transform(this._varGlobal.setting.timeback,1),this.timebackColon=this._timeBackPipe.transform(this._varGlobal.setting.timeback,2),this.timebackT=this._timeBackPipe.transform(this._varGlobal.setting.timeback,3),this.toDayFr=this._datepipe.transform(this.toDay,"dd/MM/yyyy"),this.dateofbirth=this._datepipe.transform(this._varGlobal.setting.dateofbirth,"dd/MM/yyyy"),this.loading.show(),e.next=8,this.exportPdf(t);case 8:case"end":return e.stop()}},e,this)}))}},{key:"documentDefinition",value:function(t){return{content:[{qr:t}]}}},{key:"qrCode",value:function(t){var e=this._activityPipe.transform(t);return this.qrCodeData="Cree le : "+this.toDayFr+" a "+this.timebackH+";\nNom : "+this._varGlobal.setting.lastname+";\nPrenom: "+this._varGlobal.setting.firstname+";\nNaissance: "+this.dateofbirth+" a "+this._varGlobal.setting.cityofbird+";\nAdresse: "+this._varGlobal.setting.adress+" "+this._varGlobal.setting.zipcode+" "+this._varGlobal.setting.city+" ;\nSortie: "+this.toDayFr+" a "+this.timebackColon+";\nMotifs: "+e+";"}},{key:"exportPdf",value:function(t){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,i,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.documentDefinition(this.qrCode(t)),this.pdfMake){e.next=6;break}return e.next=4,o.e(3).then(o.t.bind(null,"5JmO",7));case 4:i=e.sent,this.pdfMake=i.default;case 6:this.pdfMake.createPdf(n).getBase64(function(e){r._pdflib.modifyPdf(e,t)});case 7:case"end":return e.stop()}},e,this)}))}}]),t}()).\u0275fac=function(t){return new(t||y)(h.Pb(f.a),h.Pb(s.d),h.Pb(p.a),h.Pb(g.a),h.Pb(x),h.Pb(c.y),h.Pb(v.a))},y.\u0275prov=h.Db({token:y,factory:y.\u0275fac,providedIn:"root"}),y),C=[{path:"",component:(w=function(){function t(e,i,r,o){n(this,t),this._router=e,this._storage=i,this._pdfmake=r,this.loading=o,this.version=l.a}return r(t,[{key:"ionViewWillEnter",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._storage.readLocal("setok")||this._router.navigate(["tabs/settings"]),this.pdfMake){t.next=8;break}return t.next=3,o.e(3).then(o.t.bind(null,"5JmO",7));case 3:return e=t.sent,t.next=6,o.e(77).then(o.t.bind(null,"TruH",7));case 6:n=t.sent,this.pdfMake=e.default,this.pdfMake.vfs=n.default.pdfMake.vfs;case 8:case"end":return t.stop()}},t,this)}))}},{key:"ionViewDidEnter",value:function(){this.loading.hide()}},{key:"launchAttestation",value:function(t){this.loading.show(),this._storage.saveOnLine(t),this._pdfmake.generatePdf(t)}}]),t}(),w.\u0275fac=function(t){return new(t||w)(h.Hb(b.e),h.Hb(d.a),h.Hb(L),h.Hb(v.a))},w.\u0275cmp=h.Bb({type:w,selectors:[["app-welcome"]],decls:53,vars:1,consts:[["color","primary"],[1,"ion-align-items-stretch"],["expand","block","fill","outline",3,"click"],["Expand","block","fill","outline",3,"click"]],template:function(t,e){1&t&&(h.Mb(0,"ion-header",0),h.Mb(1,"ion-title"),h.gc(2),h.Lb(),h.Lb(),h.Mb(3,"ion-content",1),h.Mb(4,"ion-grid"),h.Mb(5,"ion-row"),h.Mb(6,"ion-col"),h.Mb(7,"ion-button",2),h.Tb("click",function(){return e.launchAttestation(1)}),h.gc(8,"n\xb0 1 Travail"),h.Lb(),h.Lb(),h.Lb(),h.Mb(9,"ion-row"),h.Mb(10,"ion-col"),h.Mb(11,"ion-button",3),h.Tb("click",function(){return e.launchAttestation(2)}),h.gc(12,"n\xb0 2 Sant\xe9e "),h.Lb(),h.Lb(),h.Lb(),h.Mb(13,"ion-row"),h.Mb(14,"ion-col"),h.Mb(15,"ion-button",3),h.Tb("click",function(){return e.launchAttestation(3)}),h.gc(16,"n\xb0 3 Famille"),h.Lb(),h.Lb(),h.Lb(),h.Mb(17,"ion-row"),h.Mb(18,"ion-col"),h.Mb(19,"ion-button",3),h.Tb("click",function(){return e.launchAttestation(4)}),h.gc(20,"n\xb0 4 Handicap"),h.Lb(),h.Lb(),h.Lb(),h.Mb(21,"ion-row"),h.Mb(22,"ion-col"),h.Mb(23,"ion-button",3),h.Tb("click",function(){return e.launchAttestation(5)}),h.gc(24,"n\xb0 5 Convocation"),h.Lb(),h.Lb(),h.Lb(),h.Mb(25,"ion-row"),h.Mb(26,"ion-col"),h.Mb(27,"ion-button",3),h.Tb("click",function(){return e.launchAttestation(6)}),h.gc(28,"n\xb0 6 Mission"),h.Lb(),h.Lb(),h.Lb(),h.Mb(29,"ion-row"),h.Mb(30,"ion-col"),h.Mb(31,"ion-button",3),h.Tb("click",function(){return e.launchAttestation(7)}),h.gc(32,"n\xb0 7 Transit"),h.Lb(),h.Lb(),h.Lb(),h.Mb(33,"ion-row"),h.Mb(34,"ion-col"),h.Mb(35,"ion-button",3),h.Tb("click",function(){return e.launchAttestation(8)}),h.gc(36,"n\xb0 8 Animaux 1h"),h.Lb(),h.Lb(),h.Lb(),h.Mb(37,"ion-row"),h.Mb(38,"ion-col"),h.Mb(39,"ion-button",3),h.Tb("click",function(){return e.launchAttestation(9)}),h.gc(40,"n\xb0 9 Courses 6h-18h"),h.Lb(),h.Lb(),h.Lb(),h.Mb(41,"ion-row"),h.Mb(42,"ion-col"),h.Mb(43,"ion-button",3),h.Tb("click",function(){return e.launchAttestation(10)}),h.gc(44,"n\xb0 10 Sport 6h-18h"),h.Lb(),h.Lb(),h.Lb(),h.Mb(45,"ion-row"),h.Mb(46,"ion-col"),h.Mb(47,"ion-button",3),h.Tb("click",function(){return e.launchAttestation(11)}),h.gc(48,"n\xb0 11 Rassemlement 6h-18h"),h.Lb(),h.Lb(),h.Lb(),h.Mb(49,"ion-row"),h.Mb(50,"ion-col"),h.Mb(51,"ion-button",3),h.Tb("click",function(){return e.launchAttestation(12)}),h.gc(52,"n\xb0 12 D\xe9marches 6h-18h"),h.Lb(),h.Lb(),h.Lb(),h.Lb(),h.Lb()),2&t&&(h.xb(2),h.hc("CovAttest ",e.version,""))},directives:[c.h,c.v,c.e,c.g,c.o,c.d,c.b],styles:["ion-header[_ngcontent-%COMP%]{margin:15px 0;text-align:center}ion-header[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{color:#878888}ion-button[_ngcontent-%COMP%]{font-size:larger}"]}),w)}],O=((P=function t(){n(this,t)}).\u0275mod=h.Fb({type:P}),P.\u0275inj=h.Eb({factory:function(t){return new(t||P)},imports:[[b.g.forChild(C)],b.g]}),P),D=((_=function t(){n(this,t)}).\u0275mod=h.Fb({type:_}),_.\u0275inj=h.Eb({factory:function(t){return new(t||_)},imports:[[s.b,O,c.x]]}),_)}}])}();