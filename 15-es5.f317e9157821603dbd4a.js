!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{kiQV:function(t){t.exports=JSON.parse('{"a":"1.0.1"}')},ldUD:function(e,i,a){"use strict";a.r(i),a.d(i,"WelcomeModule",function(){return S});var r,o=a("ofXK"),s=a("TEn/"),c=a("tyNb"),l=a("mrSG"),u=a("kiQV"),d=a("fXoL"),b=a("2hsb"),f=a("ogpO"),m=a("OvJz"),p=a("Gm54"),h=a("IkSl"),g=((r=function(){function e(n,i,a){t(this,e),this.loadingController=n,this.pdfviewer=i,this.modalCtrl=a}return n(e,[{key:"ngOnInit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadingController.create({message:"Cr\xe9ation de l'attestation...."});case 2:return this.loading=t.sent,t.next=5,this.loading.present();case 5:case"end":return t.stop()}},t,this)}))}},{key:"callBackFn",value:function(t){this.loading.dismiss()}},{key:"closeModal",value:function(){this.modalCtrl.dismiss({dismissed:!0})}}]),e}()).\u0275fac=function(t){return new(t||r)(d.Hb(s.x),d.Hb(h.b),d.Hb(s.y))},r.\u0275cmp=d.Bb({type:r,selectors:[["pdfviewer"]],inputs:{pdfUrl:"pdfUrl"},decls:4,vars:5,consts:[[1,"ion-page"],["color","black",3,"click"],["size","large","name","close-circle-outline"],[3,"src","render-text","show-all","original-size","autoresize","after-load-complete"]],template:function(t,e){1&t&&(d.Mb(0,"div",0),d.Mb(1,"ion-buttons",1),d.Tb("click",function(){return e.closeModal()}),d.Ib(2,"ion-icon",2),d.Lb(),d.Mb(3,"pdf-viewer",3),d.Tb("after-load-complete",function(t){return e.callBackFn(t)}),d.Lb(),d.Lb()),2&t&&(d.xb(3),d.Yb("src",e.pdfUrl)("render-text",!1)("show-all",!0)("original-size",!1)("autoresize",!0))},directives:[s.c,s.h,h.a],styles:[".ion-page[_ngcontent-%COMP%]{background-color:#fff}.ion-page[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{display:block;height:100vh}.ion-page[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{font-size:large;position:absolute;color:transparent}.ion-page[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:grey}"]}),r);a("gcOT");var v,x,k,y,M,w=((x=function(){function e(n,i){t(this,e),this.modalController=n,this.modalCtrl=i}return n(e,[{key:"modifyPdf",value:function(t,e,n){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,r,o,s,c,l,u,d,b;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.e(14).then(a.bind(null,"4Zil")).then(function(t){return{PDFDocument:t.PDFDocument,StandardFonts:t.StandardFonts}});case 2:return i=n.sent,n.next=5,i.PDFDocument.load(t);case 5:return r=n.sent,n.next=8,r.embedFont(i.StandardFonts.Helvetica);case 8:o=n.sent,(s=r.getPages()[0]).getSize(),c=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:11;s.drawText(t,{x:e,y:n,size:i,font:o})},n.t0=(r.setTitle("COVID-19 - D\xe9claration de d\xe9placement"),e),n.next=1===n.t0?14:2===n.t0?16:3===n.t0?18:4===n.t0?20:5===n.t0?22:6===n.t0?24:7===n.t0?26:8===n.t0?28:29;break;case 14:return c("x",73,558,13),n.abrupt("break",29);case 16:return c("x",73,506,12),n.abrupt("break",29);case 18:return c("x",73,454,12),n.abrupt("break",29);case 20:return c("x",73,415,12),n.abrupt("break",29);case 22:return c("x",73,392,12),n.abrupt("break",29);case 24:return c("x",73,367,12),n.abrupt("break",29);case 26:return c("x",73,329,12),n.abrupt("break",29);case 28:c("x",73,291,12);case 29:return n.next=31,r.save();case 31:return l=n.sent,u=new Blob([l],{type:"application/pdf"}),d=window.URL.createObjectURL(u),n.next=36,this.modalCtrl.create({component:g,cssClass:"my-custom-class",keyboardClose:!0,componentProps:{pdfUrl:d}});case 36:return b=n.sent,n.next=39,b.present();case 39:return n.abrupt("return",n.sent);case 40:case"end":return n.stop()}},n,this)}))}}]),e}()).\u0275fac=function(t){return new(t||x)(d.Pb(s.y),d.Pb(s.y))},x.\u0275prov=d.Db({token:x,factory:x.\u0275fac,providedIn:"root"}),x),_=((v=function(){function e(n,i,a,r,o,s){t(this,e),this._varGlobal=n,this._datepipe=i,this._timeBackPipe=a,this._activityPipe=r,this._pdflib=o,this.loadingController=s,this.pdfMake=null,this.dateofbirth=null,this.toDay=new Date,this.timebackColon=null,this.timebackH=null,this.timebackT=null,this.qrCodeData=null}return n(e,[{key:"generatePdf",value:function(t){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.timebackH=this._timeBackPipe.transform(this._varGlobal.setting.timeback,1),this.timebackColon=this._timeBackPipe.transform(this._varGlobal.setting.timeback,2),this.timebackT=this._timeBackPipe.transform(this._varGlobal.setting.timeback,3),this.toDayFr=this._datepipe.transform(this.toDay,"dd/MM/yyyy"),this.dateofbirth=this._datepipe.transform(this._varGlobal.setting.dateofbirth,"dd/MM/yyyy"),e.next=3,this.loadingController.create({message:"Patientez...."});case 3:return n=e.sent,e.next=6,n.present();case 6:return e.next=8,this.exportPdf(t);case 8:return e.next=10,n.dismiss();case 10:case"end":return e.stop()}},e,this)}))}},{key:"documentDefinition",value:function(t){return{info:{title:"COVID-19 - D\xe9claration de d\xe9placement",author:"Minist\xe8re de l'injustice",subject:"Attestation de d\xe9placement d\xe9rogatoire",keywords:["covid19","covid-19","attestation","d\xe9claration","d\xe9placement","officielle","gouvernement"]},content:[{text:"ATTESTATION DE D\xc9PLACEMENT D\xc9ROGATOIRE DURANT LES HORAIRES DU COUVRE-FEU ",margin:[40,8.5,40,10],style:"header"},{text:"En application du d\xe9cret no 2020-1310 du 29 octobre 2020 prescrivant les mesures g\xe9n\xe9rales n\xe9cessaires pour faire face \xe0 l\u2019\xe9pid\xe9mie de COVID-19 dans le cadre de l\u2019\xe9tat d\u2019urgence sanitaire",fontSize:9,alignment:"left",margin:[30,0,60,22]},{text:["Mme/M. :  ",{text:this._varGlobal.setting.firstname,fontSize:11}," ",{text:this._varGlobal.setting.lastname,fontSize:11}],fontSize:10.6,alignment:"left",margin:[30,0,20,5]},{text:["N\xe9(e) le : ",{text:this.dateofbirth,fontSize:11},{text:"                                             \xe0 : "},{text:this._varGlobal.setting.cityofbird,fontSize:11}],fontSize:10.6,alignment:"left",margin:[30,0,20,5]},{text:["Demeurant  : ",{text:this._varGlobal.setting.adress,fontSize:11}," ",{text:this._varGlobal.setting.zipcode,fontSize:11}," ",{text:this._varGlobal.setting.city,fontSize:11}],fontSize:10.6,alignment:"left",margin:[30,0,20,5]},{text:"certifie que mon d\xe9placement est li\xe9 au motif suivant (cocher la case) autoris\xe9 en application des mesures g\xe9n\xe9rales n\xe9cessaires pour faire face \xe0 l\u2019\xe9pid\xe9mie de COVID-19 dans le cadre de l\u2019\xe9tat d\u2019urgence sanitaire :",fontSize:10.6,alignment:"justify",margin:[30,20,20,20]},{columns:[{width:30,text:[{text:"[  ]",fontSize:12}]},{width:"*",text:"D\xe9placements entre le domicile et le lieu d\u2019exercice de l\u2019activit\xe9 professionnelle ou le lieu  d\u2019enseignement et de formation, d\xe9placements professionnels ne pouvant \xeatre diff\xe9r\xe9s"}],margin:[30,0,20,0]},{columns:[{width:30,text:[{text:"[  ]",fontSize:12}]},{width:"*",text:"D\xe9placements pour des consultations, examens, actes de pr\xe9vention (dont vaccination) et soins ne pouvant \xeatre assur\xe9s \xe0 distance et ne pouvant \xeatre diff\xe9r\xe9s ou pour l\u2019achat de produits de sant\xe9"}],margin:[30,10,20,0]},{columns:[{width:30,text:[{text:"[  ]",fontSize:12}]},{width:"*",text:"D\xe9placements pour motif familial imp\xe9rieux, pour l\u2019assistance aux personnes vuln\xe9rables ou pr\xe9caires ou pour la garde d\u2019enfants"}],margin:[30,10,20,0]},{columns:[{width:30,text:[{text:"[  ]",fontSize:12}]},{width:"*",text:"D\xe9placements des personnes en situation de handicap et de leur accompagnant"}],margin:[30,10,20,0]},{columns:[{width:30,text:[{text:"[  ]",fontSize:12}]},{width:"*",text:"D\xe9placements pour r\xe9pondre \xe0 une convocation judiciaire ou administrative"}],margin:[30,10,20,0]},{columns:[{width:30,text:[{text:"[  ]",fontSize:12}]},{width:"*",text:"D\xe9placements pour participer \xe0 des missions d\u2019int\xe9r\xeat g\xe9n\xe9ral sur demande de l\u2019autorit\xe9 administrative"}],margin:[30,10,20,0]},{columns:[{width:30,text:[{text:"[  ]",fontSize:12}]},{width:"*",text:"D\xe9placements li\xe9s \xe0 des transits ferroviaires, a\xe9riens ou en bus pour des d\xe9placements de longues distances"}],margin:[30,10,20,0]},{columns:[{width:30,text:[{text:"[  ]",fontSize:12}]},{width:"*",text:"D\xe9placements brefs, dans un rayon maximal d\u2019un kilom\xe8tre autour du domicile pour les besoins des animaux de compagnie"}],margin:[30,10,20,0]},{text:["Fait \xe0 :  ",{text:this._varGlobal.setting.city,fontSize:11}],fontSize:10.6,alignment:"left",margin:[30,10,20,0]},{text:["le : ",{text:this.toDayFr,fontSize:11},{text:"                                                        \xe0 : "},{text:this.timebackColon,fontSize:11}],fontSize:10.6,alignment:"left",margin:[30,5,20,0]},{text:"(Date et heure de d\xe9but de sortie \xe0 mentionner obligatoirement)",fontSize:10.6,alignment:"left",margin:[30,5,0,10]},{qr:t,alignment:"left",margin:[390,0,0,0],fit:"114"},{columns:[{width:15,text:[{text:"1",fontSize:5}]},{width:"*",text:"Les personnes souhaitant b\xe9n\xe9ficier de l\u2019une de ces exceptions doivent se munir s\u2019il y a lieu, lors de leurs d\xe9placements hors de leur domicile, d\u2019un document leur permettant de justifier que le d\xe9placement consid\xe9r\xe9 entre dans le champ de l\u2019une de ces exceptions.",fontSize:8.5,alignment:"justify"}],margin:[50,15,32,0]},{qr:t,alignment:"left",margin:[16,12,0,0],fit:"305",version:10,eccLevel:"M",pageBreak:"before"}],styles:{header:{fontSize:17,alignment:"center"},subheader:{fontSize:15,bold:!0},quote:{italics:!0},small:{fontSize:8.5}}}}},{key:"qrCode",value:function(t){var e=this._activityPipe.transform(t);return this.qrCodeData="Cree le : "+this.toDayFr+" a "+this.timebackH+";\nNom : "+this._varGlobal.setting.lastname+";\nPrenom: "+this._varGlobal.setting.firstname+";\nNaissance: "+this.dateofbirth+" a "+this._varGlobal.setting.cityofbird+";\nAdresse: "+this._varGlobal.setting.adress+" "+this._varGlobal.setting.zipcode+" "+this._varGlobal.setting.city+" ;\nSortie: "+this.toDayFr+" a "+this.timebackColon+";\nMotifs: "+e+";"}},{key:"exportPdf",value:function(t){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,i,r,o,s=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._datepipe.transform(this.toDay,"yyyy-MM-dd_")+this.timebackT,i=this.documentDefinition(this.qrCode(t)),this.pdfMake){e.next=9;break}return e.next=4,a.e(3).then(a.t.bind(null,"5JmO",7));case 4:return r=e.sent,e.next=7,a.e(4).then(a.t.bind(null,"TruH",7));case 7:o=e.sent,this.pdfMake=r.default,this.pdfMake.vfs=o.default.pdfMake.vfs;case 9:this.pdfMake.createPdf(i).getBase64(function(e){s._pdflib.modifyPdf(e,t,n)});case 10:case"end":return e.stop()}},e,this)}))}}]),e}()).\u0275fac=function(t){return new(t||v)(d.Pb(f.a),d.Pb(o.d),d.Pb(m.a),d.Pb(p.a),d.Pb(w),d.Pb(s.x))},v.\u0275prov=d.Db({token:v,factory:v.\u0275fac,providedIn:"root"}),v),z=[{path:"",component:(k=function(){function e(n,i,a){t(this,e),this._router=n,this._storage=i,this._pdfmake=a,this.version=u.a}return n(e,[{key:"ionViewWillEnter",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._storage.readLocal("setok")||this._router.navigate(["tabs/settings"]),this.pdfMake){t.next=8;break}return t.next=3,a.e(3).then(a.t.bind(null,"5JmO",7));case 3:return e=t.sent,t.next=6,a.e(4).then(a.t.bind(null,"TruH",7));case 6:n=t.sent,this.pdfMake=e.default,this.pdfMake.vfs=n.default.pdfMake.vfs;case 8:case"end":return t.stop()}},t,this)}))}},{key:"launchAttestation",value:function(t){this._storage.saveOnLine(t),this._pdfmake.generatePdf(t)}}]),e}(),k.\u0275fac=function(t){return new(t||k)(d.Hb(c.e),d.Hb(b.a),d.Hb(_))},k.\u0275cmp=d.Bb({type:k,selectors:[["app-welcome"]],decls:41,vars:1,consts:[["color","primary"],[1,"ion-align-items-stretch"],["Expand","block",3,"click"],["Expand","block","hidden","",3,"click"]],template:function(t,e){1&t&&(d.Mb(0,"ion-header",0),d.Mb(1,"ion-title"),d.gc(2),d.Lb(),d.Lb(),d.Mb(3,"ion-content",1),d.Mb(4,"ion-grid"),d.Mb(5,"ion-row"),d.Mb(6,"ion-col"),d.Mb(7,"ion-button",2),d.Tb("click",function(){return e.launchAttestation(1)}),d.gc(8,"n\xb01 Travail"),d.Lb(),d.Lb(),d.Lb(),d.Mb(9,"ion-row"),d.Mb(10,"ion-col"),d.Mb(11,"ion-button",2),d.Tb("click",function(){return e.launchAttestation(2)}),d.gc(12,"n\xb02 Sant\xe9e "),d.Lb(),d.Lb(),d.Lb(),d.Mb(13,"ion-row"),d.Mb(14,"ion-col"),d.Mb(15,"ion-button",2),d.Tb("click",function(){return e.launchAttestation(3)}),d.gc(16,"n\xb03 Famille"),d.Lb(),d.Lb(),d.Lb(),d.Mb(17,"ion-row"),d.Mb(18,"ion-col"),d.Mb(19,"ion-button",2),d.Tb("click",function(){return e.launchAttestation(4)}),d.gc(20,"n\xb04 Handicap"),d.Lb(),d.Lb(),d.Lb(),d.Mb(21,"ion-row"),d.Mb(22,"ion-col"),d.Mb(23,"ion-button",2),d.Tb("click",function(){return e.launchAttestation(5)}),d.gc(24,"n\xb05 Convocation"),d.Lb(),d.Lb(),d.Lb(),d.Mb(25,"ion-row"),d.Mb(26,"ion-col"),d.Mb(27,"ion-button",2),d.Tb("click",function(){return e.launchAttestation(6)}),d.gc(28,"n\xb06 Mission"),d.Lb(),d.Lb(),d.Lb(),d.Mb(29,"ion-row"),d.Mb(30,"ion-col"),d.Mb(31,"ion-button",2),d.Tb("click",function(){return e.launchAttestation(7)}),d.gc(32,"n\xb07 Transit"),d.Lb(),d.Lb(),d.Lb(),d.Mb(33,"ion-row"),d.Mb(34,"ion-col"),d.Mb(35,"ion-button",2),d.Tb("click",function(){return e.launchAttestation(8)}),d.gc(36,"n\xb08 Animaux 1h"),d.Lb(),d.Lb(),d.Lb(),d.Mb(37,"ion-row"),d.Mb(38,"ion-col"),d.Mb(39,"ion-button",3),d.Tb("click",function(){return e.launchAttestation(9)}),d.gc(40,"n\xb09 Activit\xe9s p\xe9riscolaires"),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb()),2&t&&(d.xb(2),d.hc("CovAttest ",e.version,""))},directives:[s.g,s.u,s.e,s.f,s.n,s.d,s.b],styles:["ion-header[_ngcontent-%COMP%]{margin-top:15px;text-align:center}"]}),k)}],L=((M=function e(){t(this,e)}).\u0275mod=d.Fb({type:M}),M.\u0275inj=d.Eb({factory:function(t){return new(t||M)},imports:[[c.g.forChild(z)],c.g]}),M),S=((y=function e(){t(this,e)}).\u0275mod=d.Fb({type:y}),y.\u0275inj=d.Eb({factory:function(t){return new(t||y)},imports:[[o.b,L,s.w]]}),y)}}])}();