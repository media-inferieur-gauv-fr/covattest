(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{kiQV:function(t){t.exports=JSON.parse('{"a":"1.0.1"}')},ldUD:function(t,e,n){"use strict";n.r(e),n.d(e,"WelcomeModule",function(){return v});var i=n("ofXK"),o=n("TEn/"),a=n("tyNb"),s=n("mrSG"),r=n("kiQV"),l=n("fXoL"),c=n("2hsb"),d=n("ogpO"),u=n("OvJz"),b=n("Gm54"),f=n("IkSl");let m=(()=>{class t{constructor(t,e,n){this.loadingController=t,this.pdfviewer=e,this.modalCtrl=n}ngOnInit(){return Object(s.a)(this,void 0,void 0,function*(){this.loading=yield this.loadingController.create({message:"Cr\xe9ation de l'attestation...."}),yield this.loading.present()})}callBackFn(t){this.loading.dismiss()}closeModal(){this.modalCtrl.dismiss({dismissed:!0})}}return t.\u0275fac=function(e){return new(e||t)(l.Hb(o.x),l.Hb(f.b),l.Hb(o.y))},t.\u0275cmp=l.Bb({type:t,selectors:[["pdfviewer"]],inputs:{pdfUrl:"pdfUrl"},decls:4,vars:5,consts:[[1,"ion-page"],["color","black",3,"click"],["size","large","name","close-circle-outline"],[3,"src","render-text","show-all","original-size","autoresize","after-load-complete"]],template:function(t,e){1&t&&(l.Mb(0,"div",0),l.Mb(1,"ion-buttons",1),l.Tb("click",function(){return e.closeModal()}),l.Ib(2,"ion-icon",2),l.Lb(),l.Mb(3,"pdf-viewer",3),l.Tb("after-load-complete",function(t){return e.callBackFn(t)}),l.Lb(),l.Lb()),2&t&&(l.xb(3),l.Yb("src",e.pdfUrl)("render-text",!1)("show-all",!0)("original-size",!1)("autoresize",!0))},directives:[o.c,o.h,f.a],styles:[".ion-page[_ngcontent-%COMP%]{background-color:#fff}.ion-page[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{display:block;height:100vh}.ion-page[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{font-size:large;position:absolute;color:transparent}.ion-page[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:grey}"]}),t})();n("gcOT");let h=(()=>{class t{constructor(t,e){this.modalController=t,this.modalCtrl=e}modifyPdf(t,e,i){return Object(s.a)(this,void 0,void 0,function*(){const i=yield n.e(14).then(n.bind(null,"4Zil")).then(({PDFDocument:t,StandardFonts:e})=>({PDFDocument:t,StandardFonts:e})),o=yield i.PDFDocument.load(t),a=yield o.embedFont(i.StandardFonts.Helvetica),s=o.getPages()[0],r=(s.getSize(),(t,e,n,i=11)=>{s.drawText(t,{x:e,y:n,size:i,font:a})});switch(o.setTitle("COVID-19 - D\xe9claration de d\xe9placement"),e){case 1:r("x",73,558,13);break;case 2:r("x",73,506,12);break;case 3:r("x",73,454,12);break;case 4:r("x",73,415,12);break;case 5:r("x",73,392,12);break;case 6:r("x",73,367,12);break;case 7:r("x",73,329,12);break;case 8:r("x",73,291,12)}const l=yield o.save(),c=new Blob([l],{type:"application/pdf"}),d=window.URL.createObjectURL(c),u=yield this.modalCtrl.create({component:m,cssClass:"my-custom-class",keyboardClose:!0,componentProps:{pdfUrl:d}});return yield u.present()})}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(o.y),l.Pb(o.y))},t.\u0275prov=l.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),p=(()=>{class t{constructor(t,e,n,i,o,a){this._varGlobal=t,this._datepipe=e,this._timeBackPipe=n,this._activityPipe=i,this._pdflib=o,this.loadingController=a,this.pdfMake=null,this.dateofbirth=null,this.toDay=new Date,this.timebackColon=null,this.timebackH=null,this.timebackT=null,this.qrCodeData=null}generatePdf(t){return Object(s.a)(this,void 0,void 0,function*(){this.timebackH=this._timeBackPipe.transform(this._varGlobal.setting.timeback,1),this.timebackColon=this._timeBackPipe.transform(this._varGlobal.setting.timeback,2),this.timebackT=this._timeBackPipe.transform(this._varGlobal.setting.timeback,3),this.toDayFr=this._datepipe.transform(this.toDay,"dd/MM/yyyy"),this.dateofbirth=this._datepipe.transform(this._varGlobal.setting.dateofbirth,"dd/MM/yyyy");const e=yield this.loadingController.create({message:"Patientez...."});yield e.present(),yield this.exportPdf(t),yield e.dismiss()})}documentDefinition(t){return{info:{title:"COVID-19 - D\xe9claration de d\xe9placement",author:"Minist\xe8re de l'injustice",subject:"Attestation de d\xe9placement d\xe9rogatoire",keywords:["covid19","covid-19","attestation","d\xe9claration","d\xe9placement","officielle","gouvernement"]},content:[{text:"ATTESTATION DE D\xc9PLACEMENT D\xc9ROGATOIRE DURANT LES HORAIRES DU COUVRE-FEU ",margin:[40,8.5,40,10],style:"header"},{text:"En application du d\xe9cret no 2020-1310 du 29 octobre 2020 prescrivant les mesures g\xe9n\xe9rales n\xe9cessaires pour faire face \xe0 l\u2019\xe9pid\xe9mie de COVID-19 dans le cadre de l\u2019\xe9tat d\u2019urgence sanitaire",fontSize:9,alignment:"left",margin:[30,0,60,22]},{text:["Mme/M. :  ",{text:this._varGlobal.setting.firstname,fontSize:11}," ",{text:this._varGlobal.setting.lastname,fontSize:11}],fontSize:10.6,alignment:"left",margin:[30,0,20,5]},{text:["N\xe9(e) le : ",{text:this.dateofbirth,fontSize:11},{text:"                                             \xe0 : "},{text:this._varGlobal.setting.cityofbird,fontSize:11}],fontSize:10.6,alignment:"left",margin:[30,0,20,5]},{text:["Demeurant  : ",{text:this._varGlobal.setting.adress,fontSize:11}," ",{text:this._varGlobal.setting.zipcode,fontSize:11}," ",{text:this._varGlobal.setting.city,fontSize:11}],fontSize:10.6,alignment:"left",margin:[30,0,20,5]},{text:"certifie que mon d\xe9placement est li\xe9 au motif suivant (cocher la case) autoris\xe9 en application des mesures g\xe9n\xe9rales n\xe9cessaires pour faire face \xe0 l\u2019\xe9pid\xe9mie de COVID-19 dans le cadre de l\u2019\xe9tat d\u2019urgence sanitaire :",fontSize:10.6,alignment:"justify",margin:[30,20,20,20]},{columns:[{width:30,text:[{text:"[  ]",fontSize:12}]},{width:"*",text:"D\xe9placements entre le domicile et le lieu d\u2019exercice de l\u2019activit\xe9 professionnelle ou le lieu  d\u2019enseignement et de formation, d\xe9placements professionnels ne pouvant \xeatre diff\xe9r\xe9s"}],margin:[30,0,20,0]},{columns:[{width:30,text:[{text:"[  ]",fontSize:12}]},{width:"*",text:"D\xe9placements pour des consultations, examens, actes de pr\xe9vention (dont vaccination) et soins ne pouvant \xeatre assur\xe9s \xe0 distance et ne pouvant \xeatre diff\xe9r\xe9s ou pour l\u2019achat de produits de sant\xe9"}],margin:[30,10,20,0]},{columns:[{width:30,text:[{text:"[  ]",fontSize:12}]},{width:"*",text:"D\xe9placements pour motif familial imp\xe9rieux, pour l\u2019assistance aux personnes vuln\xe9rables ou pr\xe9caires ou pour la garde d\u2019enfants"}],margin:[30,10,20,0]},{columns:[{width:30,text:[{text:"[  ]",fontSize:12}]},{width:"*",text:"D\xe9placements des personnes en situation de handicap et de leur accompagnant"}],margin:[30,10,20,0]},{columns:[{width:30,text:[{text:"[  ]",fontSize:12}]},{width:"*",text:"D\xe9placements pour r\xe9pondre \xe0 une convocation judiciaire ou administrative"}],margin:[30,10,20,0]},{columns:[{width:30,text:[{text:"[  ]",fontSize:12}]},{width:"*",text:"D\xe9placements pour participer \xe0 des missions d\u2019int\xe9r\xeat g\xe9n\xe9ral sur demande de l\u2019autorit\xe9 administrative"}],margin:[30,10,20,0]},{columns:[{width:30,text:[{text:"[  ]",fontSize:12}]},{width:"*",text:"D\xe9placements li\xe9s \xe0 des transits ferroviaires, a\xe9riens ou en bus pour des d\xe9placements de longues distances"}],margin:[30,10,20,0]},{columns:[{width:30,text:[{text:"[  ]",fontSize:12}]},{width:"*",text:"D\xe9placements brefs, dans un rayon maximal d\u2019un kilom\xe8tre autour du domicile pour les besoins des animaux de compagnie"}],margin:[30,10,20,0]},{text:["Fait \xe0 :  ",{text:this._varGlobal.setting.city,fontSize:11}],fontSize:10.6,alignment:"left",margin:[30,10,20,0]},{text:["le : ",{text:this.toDayFr,fontSize:11},{text:"                                                        \xe0 : "},{text:this.timebackColon,fontSize:11}],fontSize:10.6,alignment:"left",margin:[30,5,20,0]},{text:"(Date et heure de d\xe9but de sortie \xe0 mentionner obligatoirement)",fontSize:10.6,alignment:"left",margin:[30,5,0,10]},{qr:t,alignment:"left",margin:[390,0,0,0],fit:"114"},{columns:[{width:15,text:[{text:"1",fontSize:5}]},{width:"*",text:"Les personnes souhaitant b\xe9n\xe9ficier de l\u2019une de ces exceptions doivent se munir s\u2019il y a lieu, lors de leurs d\xe9placements hors de leur domicile, d\u2019un document leur permettant de justifier que le d\xe9placement consid\xe9r\xe9 entre dans le champ de l\u2019une de ces exceptions.",fontSize:8.5,alignment:"justify"}],margin:[50,15,32,0]},{qr:t,alignment:"left",margin:[16,12,0,0],fit:"305",version:10,eccLevel:"M",pageBreak:"before"}],styles:{header:{fontSize:17,alignment:"center"},subheader:{fontSize:15,bold:!0},quote:{italics:!0},small:{fontSize:8.5}}}}qrCode(t){const e=this._activityPipe.transform(t);return this.qrCodeData="Cree le : "+this.toDayFr+" a "+this.timebackH+";\nNom : "+this._varGlobal.setting.lastname+";\nPrenom: "+this._varGlobal.setting.firstname+";\nNaissance: "+this.dateofbirth+" a "+this._varGlobal.setting.cityofbird+";\nAdresse: "+this._varGlobal.setting.adress+" "+this._varGlobal.setting.zipcode+" "+this._varGlobal.setting.city+" ;\nSortie: "+this.toDayFr+" a "+this.timebackColon+";\nMotifs: "+e+";"}exportPdf(t){return Object(s.a)(this,void 0,void 0,function*(){const e=this._datepipe.transform(this.toDay,"yyyy-MM-dd_")+this.timebackT,i=this.documentDefinition(this.qrCode(t));if(!this.pdfMake){const t=yield n.e(3).then(n.t.bind(null,"5JmO",7)),e=yield n.e(4).then(n.t.bind(null,"TruH",7));this.pdfMake=t.default,this.pdfMake.vfs=e.default.pdfMake.vfs}this.pdfMake.createPdf(i).getBase64(n=>{this._pdflib.modifyPdf(n,t,e)})})}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(d.a),l.Pb(i.d),l.Pb(u.a),l.Pb(b.a),l.Pb(h),l.Pb(o.x))},t.\u0275prov=l.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const g=[{path:"",component:(()=>{class t{constructor(t,e,n){this._router=t,this._storage=e,this._pdfmake=n,this.version=r.a}ionViewWillEnter(){return Object(s.a)(this,void 0,void 0,function*(){if(this._storage.readLocal("setok")||this._router.navigate(["tabs/settings"]),!this.pdfMake){const t=yield n.e(3).then(n.t.bind(null,"5JmO",7)),e=yield n.e(4).then(n.t.bind(null,"TruH",7));this.pdfMake=t.default,this.pdfMake.vfs=e.default.pdfMake.vfs}})}launchAttestation(t){this._storage.saveOnLine(t),this._pdfmake.generatePdf(t)}}return t.\u0275fac=function(e){return new(e||t)(l.Hb(a.e),l.Hb(c.a),l.Hb(p))},t.\u0275cmp=l.Bb({type:t,selectors:[["app-welcome"]],decls:41,vars:1,consts:[["color","primary"],[1,"ion-align-items-stretch"],["Expand","block",3,"click"],["Expand","block","hidden","",3,"click"]],template:function(t,e){1&t&&(l.Mb(0,"ion-header",0),l.Mb(1,"ion-title"),l.gc(2),l.Lb(),l.Lb(),l.Mb(3,"ion-content",1),l.Mb(4,"ion-grid"),l.Mb(5,"ion-row"),l.Mb(6,"ion-col"),l.Mb(7,"ion-button",2),l.Tb("click",function(){return e.launchAttestation(1)}),l.gc(8,"n\xb01 Travail"),l.Lb(),l.Lb(),l.Lb(),l.Mb(9,"ion-row"),l.Mb(10,"ion-col"),l.Mb(11,"ion-button",2),l.Tb("click",function(){return e.launchAttestation(2)}),l.gc(12,"n\xb02 Sant\xe9e "),l.Lb(),l.Lb(),l.Lb(),l.Mb(13,"ion-row"),l.Mb(14,"ion-col"),l.Mb(15,"ion-button",2),l.Tb("click",function(){return e.launchAttestation(3)}),l.gc(16,"n\xb03 Famille"),l.Lb(),l.Lb(),l.Lb(),l.Mb(17,"ion-row"),l.Mb(18,"ion-col"),l.Mb(19,"ion-button",2),l.Tb("click",function(){return e.launchAttestation(4)}),l.gc(20,"n\xb04 Handicap"),l.Lb(),l.Lb(),l.Lb(),l.Mb(21,"ion-row"),l.Mb(22,"ion-col"),l.Mb(23,"ion-button",2),l.Tb("click",function(){return e.launchAttestation(5)}),l.gc(24,"n\xb05 Convocation"),l.Lb(),l.Lb(),l.Lb(),l.Mb(25,"ion-row"),l.Mb(26,"ion-col"),l.Mb(27,"ion-button",2),l.Tb("click",function(){return e.launchAttestation(6)}),l.gc(28,"n\xb06 Mission"),l.Lb(),l.Lb(),l.Lb(),l.Mb(29,"ion-row"),l.Mb(30,"ion-col"),l.Mb(31,"ion-button",2),l.Tb("click",function(){return e.launchAttestation(7)}),l.gc(32,"n\xb07 Transit"),l.Lb(),l.Lb(),l.Lb(),l.Mb(33,"ion-row"),l.Mb(34,"ion-col"),l.Mb(35,"ion-button",2),l.Tb("click",function(){return e.launchAttestation(8)}),l.gc(36,"n\xb08 Animaux 1h"),l.Lb(),l.Lb(),l.Lb(),l.Mb(37,"ion-row"),l.Mb(38,"ion-col"),l.Mb(39,"ion-button",3),l.Tb("click",function(){return e.launchAttestation(9)}),l.gc(40,"n\xb09 Activit\xe9s p\xe9riscolaires"),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb()),2&t&&(l.xb(2),l.hc("CovAttest ",e.version,""))},directives:[o.g,o.u,o.e,o.f,o.n,o.d,o.b],styles:["ion-header[_ngcontent-%COMP%]{margin-top:15px;text-align:center}"]}),t})()}];let x=(()=>{class t{}return t.\u0275mod=l.Fb({type:t}),t.\u0275inj=l.Eb({factory:function(e){return new(e||t)},imports:[[a.g.forChild(g)],a.g]}),t})(),v=(()=>{class t{}return t.\u0275mod=l.Fb({type:t}),t.\u0275inj=l.Eb({factory:function(e){return new(e||t)},imports:[[i.b,x,o.w]]}),t})()}}]);